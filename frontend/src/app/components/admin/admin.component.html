
<h3>Bienvenue sur votre page admin</h3>

<!-- Bouton global pour ajouter un nouveau produit -->
<button style="margin-bottom: 30px;" class="btn btn-primary" (click)="onAddProduct()">Ajouter un nouveau produit</button>

<div class="card" style="width: 18rem;" *ngFor="let product of products" style="display: flex; flex-direction: row; margin-bottom: 1rem; border: 1px solid #ccc; padding: 1rem; margin-left: 2rem; width: 60%;">
  <div style="display: flex; flex-direction: row;">

    <div>
      <img *ngIf="!product.editMode" [src]="product.urlimage" class="card-img-top" alt="..." style="max-width: 150px; max-height: 150px;">
    </div>
    <div *ngIf="product.editMode">
      <input type="text" [(ngModel)]="product.urlimage" placeholder="URL de l'image" class="form-control" />
    </div>

    <div class="card-body">
      <p *ngIf="!product.editMode" style="font-weight: 700; margin-top: -20px;">{{ product.name }}</p>
      <p *ngIf="!product.editMode" style="text-decoration: underline; margin-top: -10px;">description :</p>
      <p *ngIf="!product.editMode" style="margin-top: -10px; font-size:small;"> {{ product.description }}</p>
      <p *ngIf="!product.editMode" style="margin-top: 50px; margin-bottom: -16px;">Stock : {{ product.stock }}</p>
    </div>
    <div *ngIf="product.editMode">
      <input style="margin-bottom: 20px;" type="text" [(ngModel)]="product.name" placeholder="Nom du produit" class="form-control" />
      <input style="margin-bottom: 20px;" type="text" [(ngModel)]="product.description" placeholder="Description" class="form-control" />
      <input type="number" [(ngModel)]="product.stock" placeholder="Stock" class="form-control" />
    </div>
    <div style="display: flex; flex-direction: column;">
      <p *ngIf="!product.editMode" style="font-size: larger; margin-right: 20px; margin-top: 20px;">{{ product.price }} €</p>
    </div>
    <div *ngIf="product.editMode">
      <input *ngIf="product.editMode" style="margin-left: 20px;" type="number" [(ngModel)]="product.price" placeholder="Prix" class="form-control" />
    </div>
  </div>
  
  <div class="card" style="width: 2rem;" style="display: flex; flex-direction: column; margin-bottom: 1rem; border: 1px solid #ccc; padding: 1rem; margin-left: 4rem; border: none; margin-top: 25px;">
    <button *ngIf="!product.editMode" style="margin-bottom: 10px;" class="btn btn-danger" (click)="deleteProduct(product)">Supprimer</button>
    <button *ngIf="!product.editMode" class="btn btn-success" (click)="product.editMode = true">Éditer</button>
    <button *ngIf="product.editMode" style="margin-bottom: 20px; margin-top: -20px; font-size: small; width: 100px; margin-right: 2rem;" class="btn btn-success" (click)="saveProduct(product)">Sauvegarder</button>
    <button *ngIf="product.editMode" style="font-size: small;" class="btn btn-secondary" (click)="cancelEdit(product)">Annuler</button>
  </div>
  
</div>
  